# Voxtype compositor integration
# Fixes modifier key interference when using compositor keybindings
# Generated by: voxtype setup compositor hyprland
#
# Two submaps are used:
# - voxtype_recording: Active during recording/transcription. F12 cancels.
# - voxtype_suppress: Active during text output. Blocks modifier keys.
#
# NOTE: Do not bind Escape in voxtype_suppress. Binding Escape causes wtype's
# first character to be dropped. See: https://github.com/hyprwm/Hyprland/issues/3165

# Recording submap - active during recording and transcription
# F12 cancels recording/transcription and returns to normal
submap = voxtype_recording
bind = , F12, exec, voxtype record cancel
bind = , F12, submap, reset
submap = reset

# Output submap - blocks modifier keys during text output
submap = voxtype_suppress
bind = , SUPER_L, exec, true
bind = , SUPER_R, exec, true
bind = , Control_L, exec, true
bind = , Control_R, exec, true
bind = , Alt_L, exec, true
bind = , Alt_R, exec, true
bind = , Shift_L, exec, true
bind = , Shift_R, exec, true
bind = , F12, submap, reset  # Emergency escape if voxtype crashes
submap = reset
